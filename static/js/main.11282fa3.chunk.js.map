{"version":3,"sources":["components/Cart/index.jsx","components/Cart/CartItem.jsx","index.js","common/axios.js","common/auth.js","common/Panel.jsx","components/Home/backgroundlogo.jpg","components/Home/index.jsx","App.js","common/Header.jsx","components/UserProfile/index.js","components/Login/index.jsx","components/Register/index.jsx","components/Products/index.jsx","components/Products/ToolBox.jsx","components/Products/Product.jsx","components/EditInventory/index.jsx","components/AddInventory/index.jsx"],"names":["Cart","useState","carts","setCarts","useEffect","user","global","auth","getUser","axios","get","email","then","res","data","updateCart","cart","newCarts","_index","findIndex","c","id","splice","deleteCart","_carts","filter","className","component","map","classNames","timeout","updateCatrs","length","totalPrice","price","substr","mount","reduce","a","value","CartItem","props","setMount","name","image","sumPrice","useMemo","xs","onClick","delete","src","alt","style","width","margin","defaultValue","onChange","e","_mount","target","newCart","put","min","type","ReactDOM","render","Fragment","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","document","getElementById","baseURL","instance","_axios","create","interceptors","request","use","config","jwToken","getToken","headers","error","Promise","reject","JWT","localStorage","getItem","isLogin","token","decode","exp","Date","now","isTokenExpired","setToken","setItem","logOut","removeItem","Panel","state","show","callback","handleClose","setState","handleShow","options","_key","getTime","_component","React","createElement","key","this","onHide","backdrop","keyboard","centered","Component","_div","body","appendChild","_panel","Home","Image","backgroundlogo","maxWidth","maxHeight","App","path","Login","Register","Products","withRouter","bg","variant","Brand","Link","as","to","nickname","height","marginTop","UserProfile","history","go","marginBottom","Group","controlId","Label","Control","push","useForm","register","handleSubmit","errors","loginSubmit","password","post","toast","success","onSubmit","placeholder","ref","required","pattern","message","Text","minLength","response","product","sourceProduct","carNumber","searchProduct","text","_product","p","match","RegExp","toAdd","AddInventory","renewProducts","newproduct","_products","_sproducts","editProducts","editProduct","_sindex","deleteProducts","updateCarNum","getCarNum","carNum","params","userId","cartNum","Number","ToolBox","searchText","handleChange","clearInput","goCart","info","display","justifyContent","color","marginLeft","Product","toEdit","EditInventory","addCar","productId","renderManBtn","tags","status","Img","Body","Title","available","unavailable","Footer","productName","formSubmit","preventDefault","formDelete","tag"],"mappings":"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","file":"static/js/main.11282fa3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport axios from '../../common/axios';\nimport CartItem from './CartItem';\n\nconst Cart = () => {\n  const [carts, setCarts] = useState([]);\n\n  useEffect(() => {\n    const user = global.auth.getUser() || {};\n    axios.get(`/carts?userId=${user.email}`).then(res => setCarts(res.data));\n  }, []);\n\n  const totalPrice = () => {\n    const totalPrice = carts.map(cart => cart.price.substr(1) * cart.mount)\n      .reduce((a, value) => a + value, 0)\n    return totalPrice\n  }\n\n  const updateCart = cart => {\n    const newCarts = [...carts];\n    const _index = newCarts.findIndex(c => c.id === cart.id);\n    newCarts.splice(_index, 1, cart);\n    setCarts(newCarts);\n  };\n\n  const deleteCart = cart => {\n    const _carts = carts.filter(c => c.id !== cart.id);\n    setCarts(_carts);\n  };\n\n  return (\n    <div className=\"cart-page \">\n      <span className=\"cart-title\">購買清單</span>\n      <div className='cart-list'>\n        <TransitionGroup component={null}>\n          {\n            carts.map(cart =>\n              <CSSTransition classNames='cart-item' timeout={300} key={cart.id}>\n                <CartItem\n                  updateCatrs={updateCart}\n                  deleteCart={deleteCart}\n                  cart={cart} />\n              </CSSTransition>\n            )}\n        </TransitionGroup>\n      </div>\n      {\n        carts.length === 0 ?\n          <p className='no-cart'>尚無商品</p> : ''\n      }\n      <div className=\"cart-total\">\n        總金額：\n                <span className=\"total-price\">${totalPrice()}</span>\n      </div>\n    </div >\n  );\n};\n\nexport default Cart;\n","import React, { useState, useMemo } from 'react';\nimport axios from '../../common/axios';\nimport { Row, Col, Image, FormControl } from 'react-bootstrap';\n\n\nconst CartItem = props => {\n    const [mount, setMount] = useState(props.cart.mount);\n    const { id, name, image, price } = props.cart || {}\n    const sumPrice = useMemo(() => {\n        return price.substr(1) * mount\n    }, [mount, price])\n\n    const handleMount = e => {\n        const _mount = e.target.value\n        setMount(_mount)\n        const newCart = {\n            ...props.cart,\n            mount: _mount\n        }\n        axios.put(`/carts/${id}`, newCart).then(res => {\n            props.updateCatrs(newCart)\n        })\n    }\n    const deleteCart = () => {\n        axios.delete(`/carts/${id}`).then(res => {\n            props.deleteCart(props.cart)\n        })\n    }\n\n    return (\n        <div>\n            <Row className=\"align-items-center\">\n                <Col xs={6}>\n                    <button className='noneButton' onClick={deleteCart}>x</button>\n                    <Image src={image} alt={name} className='prodcut-info' style={{ width: '100px', margin: '0 30px' }} />\n                    <p className='prodcut-info'>{name}</p>\n                </Col>\n                <Col><span className=\"price\">{price}</span></Col>\n                <Col>\n                    <FormControl\n                        className='num-input'\n                        defaultValue={mount}\n                        onChange={handleMount}\n                        min={1}\n                        type='number'\n                    />\n                </Col>\n                <Col>總金額：${sumPrice}</Col>\n            </Row>\n        </div>\n    );\n}\n\nexport default CartItem;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'\nimport App from './App'\nimport './common/auth'\n\nReactDOM.render(\n  <React.Fragment>\n    <ToastContainer\n      position=\"top-right\"\n      autoClose={5000}\n      hideProgressBar={false}\n      newestOnTop={false}\n      closeOnClick\n      rtl={false}\n      pauseOnFocusLoss\n      draggable\n      pauseOnHover />\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n","import _axios from 'axios'\n\nconst axios = baseURL => {\n    const instance = _axios.create({\n        baseURL: baseURL || 'http://localhost:3000',\n        timeout: 1000,\n    });\n\n    instance.interceptors.request.use(\n        config => {\n            const jwToken = global.auth.getToken();\n            config.headers['Authorization'] = 'Bearer ' + jwToken;\n            // Do something before request is sent\n            return config;\n        },\n        error => {\n            // Do something with request error\n            return Promise.reject(error);\n        }\n    );\n\n    return instance\n}\n\nexport { axios }\n\nexport default axios();","import decode from 'jwt-decode'\nconst JWT = 'store_token_id'\n\nconst setToken = token => {\n    localStorage.setItem(JWT, token)\n}\n\nconst getToken = () => {\n    return localStorage.getItem(JWT)\n}\n\nconst isTokenExpired = token => {\n    try {\n        const _info = decode(token);\n        if (_info.exp < Date.now() / 1000) {\n            return true;\n        } else return false;\n    } catch (error) {\n        return false;\n    }\n};\n\nconst isLogin = () => {\n    const jwToken = getToken();\n    return !!jwToken && !isTokenExpired(jwToken);\n};\n\nconst getUser = () => {\n    const jwToken = getToken()\n    if (isLogin()) {\n        const user = decode(jwToken)\n        return user\n    } else {\n        return null\n    }\n\n}\n\nconst logOut = () => {\n    localStorage.removeItem(JWT)\n}\n\nglobal.auth = {\n    setToken,\n    getToken,\n    getUser,\n    logOut,\n    isLogin\n}","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Modal } from 'react-bootstrap';\n\nclass Panel extends Component {\n    state = {\n        show: false,\n        component: null,\n        callback: () => { }\n    }\n    handleClose = data => {\n        this.setState({\n            show: false,\n        })\n        this.state.callback(data);\n    }\n    handleShow = (options = {\n        props: {},\n        component: null,\n        callback: () => { }\n    }) => {\n        const { props, component, callback } = options\n        const _key = new Date().getTime()\n        const _component = React.createElement(component, {\n            ...props,\n            handleClose: this.handleClose,\n            key: _key\n        })\n        this.setState({\n            show: true,\n            component: _component,\n            callback: callback\n        })\n    }\n    render() {\n        return (\n            <Modal\n                show={this.state.show}\n                onHide={this.handleClose}\n                backdrop=\"static\"\n                keyboard={false}\n                centered\n            >\n                {this.state.component}\n            </Modal>\n        )\n    }\n}\n\nconst _div = document.createElement('div')\ndocument.body.appendChild(_div)\n\nconst _panel = render(<Panel />, _div)\n\nexport default _panel;","export default __webpack_public_path__ + \"static/media/backgroundlogo.4585cf33.jpg\";","import React, { Component } from 'react';\nimport Image from 'react-bootstrap/Image'\nimport backgroundlogo from './backgroundlogo.jpg';\n\nclass Home extends Component {\n    render() {\n        return (\n            <Image src={backgroundlogo} style={{ maxWidth: '100%', maxHeight: '100%' }} />\n        );\n    }\n}\n\nexport default Home;\n","import React, { useMemo } from 'react'\nimport './style.css'\nimport {\n  BrowserRouter,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Header from './common/Header'\nimport Home from './components/Home'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport Products from './components/Products'\nimport Cart from './components/Cart'\n\nexport default function App() {\n  const user = useMemo(() => {\n    return global.auth.getUser() || {}\n  }, [])\n  return (\n    <BrowserRouter>\n      <Header user={user} />\n      <Switch>\n        <Route path='/home' component={Home} />\n        <Route path='/login' component={Login} />\n        <Route path='/register' component={Register} />\n        <Route path='/products' component={Products} />\n        <Route path='/cart' component={Cart} />\n        <Route component={Home} />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n","import React from 'react';\nimport { Navbar, Nav, Button } from 'react-bootstrap';\nimport { BsFillPersonFill } from \"react-icons/bs\";\nimport { Link, withRouter } from 'react-router-dom';\nimport Panel from './Panel';\nimport UserProfile from '../components/UserProfile';\n\nconst Header = props => {\n    const toProfile = () => {\n        Panel.handleShow({\n            props: {\n                user: props.user\n            },\n            component: UserProfile,\n            callback: data => {\n                if (data === 'logout') {\n                    props.history.go(0)\n                }\n            }\n        })\n    }\n    return (\n        <Navbar bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand className=\"ml-4\" >Nike</Navbar.Brand>\n            <Nav className=\"mr-auto\">\n                <Nav.Link as={Link} to=\"/home\" >首頁</Nav.Link>\n                <Nav.Link as={Link} to=\"/products\" >產品</Nav.Link>\n            </Nav>\n            {\n                props.user.nickname ? (\n                    <Nav className=\"ml-auto\">\n                        <BsFillPersonFill style={{ height: '32px', width: '32px', marginTop: '5px' }} />\n                        <Button onClick={toProfile} className=\"mr-4\" variant=\"dark\">{props.user.nickname}\n                        </Button>\n                    </Nav>) :\n                    (\n                        <Nav className=\"ml-auto\">\n                            <Button as={Link} to=\"/register\" className=\"mr-4\" variant=\"dark\">註冊</Button>\n                            <Button as={Link} to=\"/login\" className=\"mr-4\" variant=\"dark\">登入</Button>\n                        </Nav>)\n            }\n        </Navbar>\n    );\n}\n\nexport default withRouter(Header);\n\n","import React from 'react'\nimport { Button, Form, Nav } from 'react-bootstrap';\n\nexport default function UserProfile(props) {\n    const logOut = () => {\n        global.auth.logOut()\n        props.handleClose('logout')\n        props.history.push('./products')\n        props.history.go(0)\n    }\n    return (\n        <Nav className=\"justify-content-center\">\n            <Form style={{ width: '400px', marginTop: '2rem', marginBottom: '2rem' }}>\n                <Form.Group controlId=\"formBasicName\">\n                    <Form.Label>用戶名稱：</Form.Label>\n                    <Form.Control\n                        type=\"text\"\n                        name='name'\n                        defaultValue={props.user.nickname}\n                    />\n                </Form.Group>\n                <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label>用戶信箱：</Form.Label>\n                    <Form.Control\n                        type=\"email\"\n                        name='email'\n                        defaultValue={props.user.email}\n                    />\n                </Form.Group>\n                <Form.Group controlId=\"formBasicType\">\n                    <Form.Label>用戶類型：</Form.Label>\n                    <Form.Control\n                        type=\"text\"\n                        name='type'\n                        defaultValue={props.user.type === 1 ? '管理者' : '一般用戶'}\n                    />\n                </Form.Group>\n                <div className='text-right'>\n                    <Button variant=\"secondary\" type='button' onClick={props.handleClose}>Close</Button>\n                    <Button variant=\"primary\" type='button' onClick={logOut} >登出</Button>\n                </div>\n            </Form>\n        </Nav>\n    )\n}\n","import React from 'react';\nimport axios from '../../common/axios';\nimport { Form, Button, Nav } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { toast } from 'react-toastify';\n\nexport default function Login(props) {\n    const { register, handleSubmit, errors } = useForm()\n\n    const loginSubmit = async data => {\n        try {\n            const { email, password } = data\n            const res = await axios.post('/auth/login', { email, password })\n            const jwToken = res.data\n            global.auth.setToken(jwToken)\n            toast.success('成功登入')\n            props.history.push('./products')\n            props.history.go(0)\n        } catch (error) {\n            toast.error('請重新輸入信箱和密碼');\n        }\n    }\n    return (\n        <Nav className=\"justify-content-center\">\n            <Form style={{ width: '400px', marginTop: '10rem' }} onSubmit={handleSubmit(loginSubmit)}>\n                <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label>信箱</Form.Label>\n                    <Form.Control\n                        type=\"email\"\n                        name='email'\n                        placeholder=\"Enter email\"\n                        ref={register({\n                            required: '請輸入信箱',\n                            pattern: {\n                                value: /^[A-Za-z0-9]+([_\\\\.][A-Za-z0-9]+)*@([A-Za-z0-9\\\\-]+\\.)+[A-Za-z]{2,6}$/,\n                                message: '信箱格式錯誤' // JS only: <p>error message</p> TS only support string\n                            }\n                        })}\n                    />\n                    {\n                        errors.email && (<Form.Text className=\"text-muted\" >{errors.email.message}</Form.Text>)\n                    }\n                </Form.Group>\n                <Form.Group controlId=\"formBasicPassword\">\n                    <Form.Label>密碼</Form.Label>\n                    <Form.Control\n                        type=\"password\"\n                        name='password'\n                        placeholder=\"Password\"\n                        ref={register({\n                            required: '請輸入密碼',\n                            minLength: {\n                                value: 6,\n                                message: '密碼不能少於六位'\n                            }\n                        })}\n                    />\n                    {\n                        errors.password && (<Form.Text className=\"text-muted\" >{errors.password.message}</Form.Text>)\n                    }\n                </Form.Group>\n                <Nav className='justify-content-end'>\n                    <Button variant=\"primary\" type=\"submit\">登入</Button>\n                </Nav>\n            </Form>\n        </Nav>\n    )\n}\n","import React from 'react';\nimport axios from '../../common/axios';\nimport { Form, Button, Nav } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { toast } from 'react-toastify';\n\nexport default function Login(props) {\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = async data => {\n    try {\n      const { nickname, email, password } = data;\n      const res = await axios.post('/auth/register', {\n        nickname,\n        email,\n        password,\n        type: 0\n      });\n      const jwToken = res.data;\n      global.auth.setToken(jwToken);\n      toast.success('Register Success');\n      props.history.push('./products')\n      props.history.go(0)\n    } catch (error) {\n      const message = error.response.data.message;\n      toast.error(message);\n    }\n  };\n\n  return (\n    <Nav className=\"justify-content-center\">\n      <Form style={{ width: '400px', marginTop: '10rem' }} onSubmit={handleSubmit(onSubmit)}>\n        <Form.Group controlId=\"formBasicNickname\">\n          <Form.Label>用戶名稱</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name='nickname'\n            placeholder=\"Enter nickname\"\n            ref={register({\n              required: '請輸入用戶名稱'\n            })}\n          />\n          {\n            errors.nickname && (<Form.Text className=\"text-muted\" >{errors.nickname.message}</Form.Text>)\n          }\n        </Form.Group>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>信箱</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name='email'\n            placeholder=\"Enter email\"\n            ref={register({\n              required: '請輸入信箱',\n              pattern: {\n                value: /^[A-Za-z0-9]+([_\\\\.][A-Za-z0-9]+)*@([A-Za-z0-9\\\\-]+\\.)+[A-Za-z]{2,6}$/,\n                message: '信箱格式錯誤' // JS only: <p>error message</p> TS only support string\n              }\n            })}\n          />\n          {\n            errors.email && (<Form.Text className=\"text-muted\" >{errors.email.message}</Form.Text>)\n          }\n        </Form.Group>\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>密碼</Form.Label>\n          <Form.Control\n            type=\"password\"\n            name='password'\n            placeholder=\"Enter password\"\n            ref={register({\n              required: '請輸入密碼',\n              minLength: {\n                value: 6,\n                message: '密碼不能少於六位'\n              }\n            })}\n          />\n          {\n            errors.password && (<Form.Text className=\"text-muted\" >{errors.password.message}</Form.Text>)\n          }\n        </Form.Group>\n        <Nav className='justify-content-end'>\n          <Button variant=\"primary\" type=\"submit\">註冊</Button>\n        </Nav>\n      </Form>\n    </Nav>\n  );\n}\n","import React, { Component } from 'react';\nimport ToolBox from './ToolBox';\nimport Product from './Product';\nimport axios from '../../common/axios';\nimport Panel from '../../common/Panel';\nimport AddInventory from '../AddInventory';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nclass Products extends Component {\n    state = {\n        product: [],\n        sourceProduct: [],\n        carNumber: 0\n    }\n    componentDidMount() {\n        axios.get('/products').then(response => {\n            this.setState({\n                product: response.data,\n                sourceProduct: response.data,\n            })\n        })\n        this.updateCarNum()\n    }\n    searchProduct = text => {\n        let _product = [...this.state.sourceProduct]\n        _product = _product.filter(p => {\n            const matchArray = p.name.match(new RegExp(text, 'gi'))\n            return matchArray !== null\n        })\n        this.setState({\n            product: _product\n        })\n    }\n    toAdd = () => {\n        Panel.handleShow({\n            component: AddInventory,\n            callback: data => {\n                if (data) {\n                    this.renewProducts(data)\n                }\n            }\n        })\n    }\n    renewProducts = newproduct => {\n        const _products = [...this.state.product]\n        const _sproducts = [...this.state.sourceProduct]\n        _products.push(newproduct)\n        this.setState({\n            product: _products,\n            sourceProduct: _sproducts\n        })\n    }\n    editProducts = editProduct => {\n        const _products = [...this.state.product]\n        const _index = _products.findIndex(p => p.id === editProduct.id)\n        _products.splice(_index, 1, editProduct)\n        const _sproducts = [...this.state.product]\n        const _sindex = _sproducts.findIndex(p => p.id === editProduct.id)\n        _sproducts.splice(_sindex, 1, editProduct)\n        this.setState({\n            product: _products,\n            sourceProduct: _sproducts\n        })\n    }\n    deleteProducts = id => {\n        const _products = this.state.product.filter(p => p.id !== id)\n        const _sproducts = this.state.sourceProduct.filter(p => p.id !== id)\n        this.setState({\n            product: _products,\n            sourceProduct: _sproducts\n        })\n    }\n    updateCarNum = async () => {\n        const carNum = await this.getCarNum()\n        this.setState({\n            carNumber: carNum\n        })\n    }\n    getCarNum = async () => {\n        const user = global.auth.getUser() || {};\n        const res = await axios.get('/carts', {\n            params: {\n                userId: user.email\n            }\n        })\n        const carts = res.data || []\n        const cartNum = carts\n            .map(cart => Number(cart.mount))\n            .reduce((a, value) => a + value, 0)\n        return cartNum\n    }\n    render() {\n        return (\n            <div>\n                {\n                    (global.auth.getUser() || {}).type === 1 && (\n                        <div className='addButton'>\n                            <Button variant=\"dark\" onClick={this.toAdd}>添加產品</Button>\n                        </div>\n                    )\n                }\n                <ToolBox searchProduct={this.searchProduct} carNumber={this.state.carNumber} />\n                <Row className='mx-4'>\n                    <TransitionGroup component={null}>\n                        {\n                            this.state.product.map(p => {\n                                return (\n                                    <CSSTransition classNames='product-fade' timeout={300} key={p.id + p.name}>\n                                        <Col className='mt-4' xs={3} key={p.id + p.name} >\n                                            <Product\n                                                product={p}\n                                                editProducts={this.editProducts}\n                                                deleteProducts={this.deleteProducts}\n                                                updateCarNum={this.updateCarNum}\n                                            />\n                                        </Col>\n                                    </CSSTransition>\n                                )\n                            })\n                        }\n                    </TransitionGroup>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Products;\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { Row, Col, FormControl, Button } from 'react-bootstrap';\nimport { AiOutlineShoppingCart } from \"react-icons/ai\";\nimport { toast } from 'react-toastify';\n\nclass ToolBox extends Component {\n    state = {\n        searchText: '',\n        carNumber: 0\n    }\n    handleChange = e => {\n        const value = e.target.value\n        this.setState({\n            searchText: value\n        })\n        this.props.searchProduct(value)\n    }\n    clearInput = () => {\n        this.setState({ searchText: '' });\n        this.props.searchProduct('')\n    }\n\n    goCart = () => {\n        if (!global.auth.isLogin()) {\n            this.props.history.push('/login');\n            toast.info('請先登入帳號');\n            return;\n        }\n        this.props.history.push('/cart');\n    };\n    render() {\n        return (\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Row style={{ width: '80%' }} className='align-items-center mt-4'>\n                    <Col className='text-center'>SHOP</Col>\n                    <Col xs={8}>\n                        <FormControl type=\"text\" placeholder=\"Search\"\n                            onChange={this.handleChange}\n                            value={this.state.searchText}\n                        />\n                    </Col>\n                    <Button variant=\"outline-secondary\" onClick={this.clearInput}>Clear</Button>\n                    <Col className='text-center'>\n                        <Button className='noneButton' variant=\"outline-none\" onClick={this.goCart} style={{ color: 'black', marginTop: '5px' }}>\n                            <AiOutlineShoppingCart style={{ width: '25px', height: '25px' }} />\n                            <p style={{ display: 'inline-block', marginLeft: '10px' }}>({this.props.carNumber})</p>\n                        </Button>\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\nexport default withRouter(ToolBox);\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport axios from '../../common/axios';\nimport { Button, Card } from 'react-bootstrap';\nimport { BsListUl } from \"react-icons/bs\";\nimport Panel from '../../common/Panel';\nimport EditInventory from '../EditInventory';\nimport { AiOutlineShopping } from \"react-icons/ai\";\nimport { toast } from 'react-toastify';\n\n\nclass Product extends Component {\n    toEdit = () => {\n        Panel.handleShow({\n            props: {\n                product: this.props.product,\n                deleteProducts: this.props.deleteProducts\n            },\n            component: EditInventory,\n            callback: (data) => {\n                if (data) {\n                    this.props.editProducts(data)\n                }\n            }\n        })\n    }\n    addCar = async () => {\n        if (!global.auth.isLogin()) {\n            this.props.history.push('/login');\n            toast.info('請先登入帳號');\n            return;\n        }\n        try {\n            const user = global.auth.getUser() || {};\n            const { id, name, image, price } = this.props.product;\n            const res = await axios.get('/carts', {\n                params: {\n                    productId: id,\n                    userId: user.email\n                }\n            });\n            const carts = res.data;\n            if (carts && carts.length > 0) {\n                const cart = carts[0];\n                cart.mount += 1\n                await axios.put(`/carts/${cart.id}`, cart);\n            } else {\n                const cart = {\n                    productId: id,\n                    name,\n                    image,\n                    price,\n                    mount: 1,\n                    userId: user.email\n                };\n                await axios.post('/carts', cart);\n            }\n            toast.success('新增成功')\n            this.props.updateCarNum()\n        } catch (error) {\n            toast.success('新增失敗')\n        }\n    }\n    renderManBtn = () => {\n        const user = global.auth.getUser() || {}\n        if (user.type === 1) {\n            return (\n                <div className='outOfEditButton'>\n                    <Button className='editButton' variant=\"outline-none\" onClick={this.toEdit}>\n                        <BsListUl style={{ width: '25px', height: '25px' }} />\n                    </Button>\n                </div>\n            )\n        }\n    }\n    render() {\n        const { name, image, tags, price, status } = this.props.product\n        const stock = {\n            available: true,\n            unavailable: false\n        }\n        return (\n            <Card>\n                {this.renderManBtn()}\n                <Card.Img variant=\"top\" src={image} style={{ maxWidth: '400px', maxHeight: '400px' }} />\n                <Card.Body>\n                    <Card.Title>{name}</Card.Title>\n                    <Card.Text>{tags}</Card.Text>\n                </Card.Body>\n                {stock[status] ?\n                    (<Card.Footer className='outOfShopButton'>\n                        {price}\n                        <Button className='shopButton' variant=\"outline-none\" onClick={this.addCar}>\n                            <AiOutlineShopping style={{ width: '25px', height: '25px' }} />\n                        </Button>\n                    </Card.Footer>\n                    )\n                    : <Card.Footer className='outOfShopButton'>\n                        目前無庫存\n                            <Button className='shopButton' variant=\"outline-none\" onClick={this.addCar}>\n                            <AiOutlineShopping style={{ width: '25px', height: '25px' }} />\n                        </Button></Card.Footer>\n                }\n            </Card>\n        )\n    }\n}\nexport default withRouter(Product)","import React, { Component } from 'react'\nimport { Button, Form } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport axios from '../../common/axios';\n\n\nclass EditInventory extends Component {\n    state = {\n        id: '',\n        name: '',\n        image: '',\n        price: '',\n        tags: '',\n        status: 'availalbe'\n    }\n    componentDidMount() {\n        const { id, name, image, tags, price, status } = this.props.product;\n        this.setState({\n            id, name, image, tags, price, status\n        })\n    }\n    handleChange = e => {\n        const value = e.target.value;\n        const productName = e.target.name;\n        this.setState({\n            [productName]: value\n        })\n    }\n    formSubmit = e => {\n        e.preventDefault()\n        const product = { ...this.state }\n        axios.put(`products/${this.state.id}`, product).then(res => {\n            this.props.handleClose(res.data);\n            toast.success('成功修改表單！')\n        })\n    }\n    formDelete = () => {\n        axios.delete(`products/${this.state.id}`).then(res => {\n            this.props.deleteProducts(this.state.id);\n            toast.success('成功刪除表單！')\n        })\n    }\n    render() {\n        return (\n            <Form className='mx-4 my-4' onSubmit={this.formSubmit}>\n                <Form.Group controlId=\"exampleForm.ControlInput1\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control defaultValue={this.state.name} onChange={this.handleChange} name='name' as=\"textarea\" type=\"text\" placeholder=\"商品名稱\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput2\">\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control defaultValue={this.state.price} onChange={this.handleChange} name='price' type=\"text\" placeholder=\"商品價格\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput3\">\n                    <Form.Label>Tags</Form.Label>\n                    <Form.Control defaultValue={this.state.tags} onChange={this.handleChange} name='tags' type=\"text\" placeholder=\"商品標籤\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput4\">\n                    <Form.Label>Image</Form.Label>\n                    <Form.Control defaultValue={this.state.image} onChange={this.handleChange} name='image' type=\"text\" placeholder=\"商品圖片\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput5\">\n                    <Form.Label>Available</Form.Label>\n                    <Form.Control defaultValue={this.state.status} onChange={this.handleChange} name='status' as=\"select\">\n                        <option>available</option>\n                        <option>unavailable</option>\n                    </Form.Control>\n                </Form.Group>\n                <div className='text-center'>\n                    <Button variant=\"secondary\" type='button' onClick={() => { this.props.handleClose() }}>Close</Button>{' '}\n                    <Button variant=\"primary\" type='submit' onClick={this.formSubmit}>Submit</Button>{' '}\n                    <Button variant=\"danger\" type='button' onClick={() => { this.formDelete() }}>Delete</Button>{' '}\n                </div>\n            </Form>\n\n        )\n    }\n}\n\nexport default EditInventory","import React, { Component } from 'react'\nimport { Button, Form } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport axios from '../../common/axios';\n\n\nclass AddInventory extends Component {\n    state = {\n        name: '',\n        price: '',\n        tag: '',\n        image: '',\n        status: 'availalbe'\n    }\n    handleChange = e => {\n        const value = e.target.value;\n        const name = e.target.name;\n        this.setState({\n            [name]: value\n        })\n    }\n    formSubmit = e => {\n        e.preventDefault()\n        const product = { ...this.state }\n        axios.post('products', product).then(res => {\n            this.props.handleClose(res.data);\n            toast.success('成功提交表單！')\n        })\n    }\n    render() {\n        return (\n            <Form className='mx-4 my-4' onSubmit={this.formSubmit}>\n                <Form.Group controlId=\"exampleForm.ControlInput1\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control onChange={this.handleChange} name='name' as=\"textarea\" type=\"text\" placeholder=\"商品名稱\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput2\">\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control onChange={this.handleChange} name='price' type=\"text\" placeholder=\"商品價格\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput3\">\n                    <Form.Label>Tag</Form.Label>\n                    <Form.Control onChange={this.handleChange} name='tag' type=\"text\" placeholder=\"商品標籤\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput4\">\n                    <Form.Label>Image</Form.Label>\n                    <Form.Control onChange={this.handleChange} name='image' type=\"text\" placeholder=\"商品圖片\" />\n                </Form.Group>\n                <Form.Group controlId=\"exampleForm.ControlInput5\">\n                    <Form.Label>Available</Form.Label>\n                    <Form.Control onChange={this.handleChange} name='status' as=\"select\">\n                        <option>available</option>\n                        <option>unavailable</option>\n                    </Form.Control>\n                </Form.Group>\n                <div className='text-right'>\n                    <Button variant=\"secondary\" type='button' onClick={() => { this.props.handleClose() }}>Close</Button>\n                    <Button variant=\"primary\" type='submit' onClick={this.formSubmit}>Submit</Button>\n                </div>\n            </Form>\n\n        )\n    }\n}\n\nexport default AddInventory"],"sourceRoot":""}